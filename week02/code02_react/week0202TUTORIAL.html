<!DOCTYPE html>
<html>
<head>
<title>week0202TUTORIAL.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="react-crash-course-from-vanilla-javascript-to-component-based-development">React Crash Course: From Vanilla JavaScript to Component-Based Development</h1>
<p>This crash course will guide you through React's core concepts using the chatbot example, showing how React transforms DOM manipulation into declarative, component-based development.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#what-is-react">What is React?</a></li>
<li><a href="#jsx-writing-html-in-javascript">JSX: Writing HTML in JavaScript</a></li>
<li><a href="#components-building-blocks-of-react">Components: Building Blocks of React</a></li>
<li><a href="#state-management-with-usestate">State Management with useState</a></li>
<li><a href="#event-handling-in-react">Event Handling in React</a></li>
<li><a href="#rendering-lists-and-keys">Rendering Lists and Keys</a></li>
<li><a href="#controlled-components">Controlled Components</a></li>
<li><a href="#useref-and-dom-references">useRef and DOM References</a></li>
<li><a href="#useeffect-and-side-effects">useEffect and Side Effects</a></li>
<li><a href="#react-component-lifecycle">React Component Lifecycle</a></li>
<li><a href="#putting-it-all-together">Putting It All Together</a></li>
</ol>
<hr>
<h2 id="what-is-react">What is React?</h2>
<p>React is a JavaScript library for building user interfaces. Instead of manually manipulating the DOM (like <code>document.createElement</code> or <code>element.appendChild</code>), React uses a <strong>declarative approach</strong> where you describe what the UI should look like, and React handles the updates.</p>
<h3 id="vanilla-javascript-vs-react">Vanilla JavaScript vs React</h3>
<p><strong>Vanilla JavaScript (Imperative):</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// You tell the browser HOW to do something</span>
<span class="hljs-keyword">const</span> messageDiv = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
messageDiv.textContent = <span class="hljs-string">'Hello World'</span>;
messageDiv.className = <span class="hljs-string">'message'</span>;
chatContainer.appendChild(messageDiv);
</div></code></pre>
<p><strong>React (Declarative):</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// You tell React WHAT you want</span>
&lt;div className=<span class="hljs-string">"message"</span>&gt;Hello World&lt;<span class="hljs-regexp">/div&gt;
</span></div></code></pre>
<p>React automatically figures out how to update the DOM when your data changes.</p>
<hr>
<h2 id="jsx-writing-html-in-javascript">JSX: Writing HTML in JavaScript</h2>
<p>JSX lets you write HTML-like syntax directly in JavaScript. It's not actually HTML—it gets compiled to JavaScript function calls.</p>
<h3 id="jsx-syntax-rules">JSX Syntax Rules</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// JSX looks like HTML but has some differences</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Greeting</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> name = <span class="hljs-string">"Alice"</span>;
    
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"greeting"</span>&gt;</span>  {/* className instead of class */}
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, {name}!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>    {/* JavaScript expressions in {} */}
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Welcome to React<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</div></code></pre>
<p><strong>Key Differences from HTML:</strong></p>
<ul>
<li>Use <code>className</code> instead of <code>class</code></li>
<li>Use <code>{}</code> to embed JavaScript expressions</li>
<li>Self-closing tags must end with <code>/</code> (like <code>&lt;input /&gt;</code>)</li>
<li>All JSX must return a single parent element</li>
</ul>
<h3 id="in-our-chatbot">In Our Chatbot</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-messages"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{messagesRef}</span>&gt;</span>
            {/* JavaScript expression to render messages */}
            {messages.map((message, index) =&gt; (
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
                    <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>
                    <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">message</span> ${<span class="hljs-attr">message.sender</span> === <span class="hljs-string">"user"</span> ? "<span class="hljs-attr">user-message</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">bot-message</span>"}`}
                &gt;</span>
                    {message.text}
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            ))}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        {/* Rest of the component */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
</div></code></pre>
<hr>
<h2 id="components-building-blocks-of-react">Components: Building Blocks of React</h2>
<p>Components are reusable pieces of UI. Think of them as custom HTML elements that you create.</p>
<h3 id="functional-components">Functional Components</h3>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Component logic goes here</span>
    
    <span class="hljs-keyword">return</span> (
        <span class="hljs-comment">// JSX goes here</span>
    );
}
</div></code></pre>
<p><strong>Why Components?</strong></p>
<ul>
<li><strong>Reusability</strong>: Write once, use anywhere</li>
<li><strong>Organization</strong>: Keep related code together</li>
<li><strong>Maintainability</strong>: Easier to debug and update</li>
</ul>
<h3 id="component-hierarchy">Component Hierarchy</h3>
<p>You can nest components inside other components:</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Message</span>(<span class="hljs-params">{ text, sender }</span>) </span>{
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">message</span> ${<span class="hljs-attr">sender</span>}<span class="hljs-attr">-message</span>`}&gt;</span>
            {text}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-container"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Message</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Hello!"</span> <span class="hljs-attr">sender</span>=<span class="hljs-string">"bot"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Message</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Hi there!"</span> <span class="hljs-attr">sender</span>=<span class="hljs-string">"user"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</div></code></pre>
<hr>
<h2 id="state-management-with-usestate">State Management with useState</h2>
<p>State is data that can change over time. In vanilla JavaScript, you might store this in variables. In React, you use the <code>useState</code> hook.</p>
<h3 id="basic-usestate">Basic useState</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> [count, setCount] = React.useState(<span class="hljs-number">0</span>);
<span class="hljs-comment">//     ↑        ↑                        ↑</span>
<span class="hljs-comment">//  current  function to           initial value</span>
<span class="hljs-comment">//   value   update value</span>
</div></code></pre>
<h3 id="in-our-chatbot">In Our Chatbot</h3>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// State for storing all chat messages</span>
    <span class="hljs-keyword">const</span> [messages, setMessages] = React.useState([
        { <span class="hljs-attr">text</span>: <span class="hljs-string">"Bot says: How can I help?"</span>, <span class="hljs-attr">sender</span>: <span class="hljs-string">"bot"</span> }
    ]);
    
    <span class="hljs-comment">// State for the current input value</span>
    <span class="hljs-keyword">const</span> [input, setInput] = React.useState(<span class="hljs-string">""</span>);
}
</div></code></pre>
<h3 id="updating-state">Updating State</h3>
<p><strong>Wrong Way (Don't Mutate State):</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// This won't trigger a re-render!</span>
messages.push(newMessage);
</div></code></pre>
<p><strong>Right Way (Create New State):</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// This creates a new array and triggers a re-render</span>
setMessages([...messages, newMessage]);
</div></code></pre>
<h3 id="why-immutability-matters">Why Immutability Matters</h3>
<p>React compares the old state with the new state to decide if it needs to re-render. If you mutate the existing state, React won't detect the change.</p>
<hr>
<h2 id="event-handling-in-react">Event Handling in React</h2>
<p>React wraps native DOM events in SyntheticEvents, which work the same way but are consistent across browsers.</p>
<h3 id="basic-event-handling">Basic Event Handling</h3>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Button</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> handleClick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Button clicked!"</span>);
    };
    
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>Click me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
}
</div></code></pre>
<h3 id="in-our-chatbot">In Our Chatbot</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> handleSend = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (input.trim() === <span class="hljs-string">""</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-comment">// Add user message</span>
    <span class="hljs-keyword">const</span> newUserMessage = { <span class="hljs-attr">text</span>: input, <span class="hljs-attr">sender</span>: <span class="hljs-string">"user"</span> };
    setMessages([...messages, newUserMessage]);
    
    <span class="hljs-comment">// Simulate bot response</span>
    setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> botReply = { <span class="hljs-attr">text</span>: <span class="hljs-string">`Bot says: You typed "<span class="hljs-subst">${input}</span>"!`</span>, <span class="hljs-attr">sender</span>: <span class="hljs-string">"bot"</span> };
        setMessages(<span class="hljs-function">(<span class="hljs-params">prevMessages</span>) =&gt;</span> [...prevMessages, botReply]);
    }, <span class="hljs-number">1000</span>);
    
    <span class="hljs-comment">// Clear input</span>
    setInput(<span class="hljs-string">""</span>);
};

<span class="hljs-keyword">const</span> handleKeyPress = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (event.key === <span class="hljs-string">"Enter"</span>) {
        handleSend();
    }
};
</div></code></pre>
<h3 id="event-handler-patterns">Event Handler Patterns</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Inline arrow function (good for simple logic)</span>
&lt;button onClick={() =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Clicked"</span>)}&gt;Click&lt;<span class="hljs-regexp">/button&gt;

/</span><span class="hljs-regexp">/ Function reference (good for reusable logic)
&lt;button onClick={handleClick}&gt;Click&lt;/</span>button&gt;

<span class="hljs-comment">// Passing parameters</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleDelete(itemId)}&gt;Delete<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
</div></code></pre>
<hr>
<h2 id="rendering-lists-and-keys">Rendering Lists and Keys</h2>
<p>When rendering arrays in React, each item needs a unique <code>key</code> prop to help React track changes efficiently.</p>
<h3 id="basic-list-rendering">Basic List Rendering</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> fruits = [<span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"orange"</span>];

<span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {fruits.map((fruit, index) =&gt; (
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>&gt;</span>{fruit}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
);
</div></code></pre>
<h3 id="in-our-chatbot">In Our Chatbot</h3>
<pre class="hljs"><code><div>{messages.map(<span class="hljs-function">(<span class="hljs-params">message, index</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>  // <span class="hljs-attr">Unique</span> <span class="hljs-attr">identifier</span> <span class="hljs-attr">for</span> <span class="hljs-attr">each</span> <span class="hljs-attr">message</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">message</span> ${<span class="hljs-attr">message.sender</span> === <span class="hljs-string">"user"</span> ? "<span class="hljs-attr">user-message</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">bot-message</span>"}`}
    &gt;</span>
        {message.text}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
))}
</div></code></pre>
<h3 id="why-keys-matter">Why Keys Matter</h3>
<p>Keys help React:</p>
<ul>
<li>Identify which items have changed</li>
<li>Optimize re-rendering performance</li>
<li>Maintain component state correctly</li>
</ul>
<p><strong>Best Practice:</strong> Use unique, stable IDs when possible:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// Better than using index</span>
{messages.map(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{message.id}</span>&gt;</span>  // Assuming each message has a unique ID
        {message.text}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
))}
</div></code></pre>
<hr>
<h2 id="controlled-components">Controlled Components</h2>
<p>A controlled component's value is controlled by React state, not by the DOM itself.</p>
<h3 id="uncontrolled-vs-controlled">Uncontrolled vs Controlled</h3>
<p><strong>Uncontrolled (Vanilla JavaScript):</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> input = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'user-input'</span>);
<span class="hljs-keyword">const</span> value = input.value;  <span class="hljs-comment">// DOM controls the value</span>
</div></code></pre>
<p><strong>Controlled (React):</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> [input, setInput] = React.useState(<span class="hljs-string">""</span>);

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span>
    <span class="hljs-attr">value</span>=<span class="hljs-string">{input}</span>  // <span class="hljs-attr">React</span> <span class="hljs-attr">state</span> <span class="hljs-attr">controls</span> <span class="hljs-attr">the</span> <span class="hljs-attr">value</span>
    <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setInput(e.target.value)}  // Update state on change
/&gt;</span>
</div></code></pre>
<h3 id="benefits-of-controlled-components">Benefits of Controlled Components</h3>
<ul>
<li><strong>Single source of truth</strong>: State is the definitive value</li>
<li><strong>Validation</strong>: You can validate input as user types</li>
<li><strong>Conditional rendering</strong>: Show/hide elements based on input</li>
<li><strong>Form submission</strong>: Easy access to all form values</li>
</ul>
<h3 id="in-our-chatbot">In Our Chatbot</h3>
<pre class="hljs"><code><div>&lt;input
    id=<span class="hljs-string">"user-input"</span>
    type=<span class="hljs-string">"text"</span>
    value={input}  <span class="hljs-comment">// Controlled by input state</span>
    onChange={(e) =&gt; setInput(e.target.value)}  <span class="hljs-comment">// Update state on every keystroke</span>
    onKeyPress={handleKeyPress}
    placeholder=<span class="hljs-string">"Type your message..."</span>
/&gt;
</div></code></pre>
<hr>
<h2 id="useref-and-dom-references">useRef and DOM References</h2>
<p>Sometimes you need direct access to DOM elements. <code>useRef</code> creates a reference that persists across re-renders.</p>
<h3 id="basic-useref">Basic useRef</h3>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">FocusInput</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> inputRef = React.useRef(<span class="hljs-literal">null</span>);
    
    <span class="hljs-keyword">const</span> focusInput = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        inputRef.current.focus();  <span class="hljs-comment">// Direct DOM manipulation</span>
    };
    
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{inputRef}</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{focusInput}</span>&gt;</span>Focus Input<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</div></code></pre>
<h3 id="in-our-chatbot">In Our Chatbot</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Reference to the chat messages container</span>
<span class="hljs-keyword">const</span> messagesRef = React.useRef(<span class="hljs-literal">null</span>);

<span class="hljs-comment">// Use the reference for auto-scrolling</span>
React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (messagesRef.current) {
        messagesRef.current.scrollTop = messagesRef.current.scrollHeight;
    }
}, [messages]);

<span class="hljs-comment">// Attach ref to the element</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-messages"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{messagesRef}</span>&gt;</span>
    {/* messages */}
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</div></code></pre>
<h3 id="when-to-use-useref">When to Use useRef</h3>
<ul>
<li>Accessing DOM elements (focus, scroll, measurements)</li>
<li>Storing mutable values that don't trigger re-renders</li>
<li>Integrating with third-party libraries</li>
<li><strong>Not for</strong>: Storing state that affects rendering (use useState instead)</li>
</ul>
<hr>
<h2 id="useeffect-and-side-effects">useEffect and Side Effects</h2>
<p><code>useEffect</code> handles side effects like API calls, timers, DOM manipulation, or cleanup.</p>
<h3 id="basic-useeffect">Basic useEffect</h3>
<pre class="hljs"><code><div>React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Side effect code</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Component rendered or updated"</span>);
    
    <span class="hljs-comment">// Optional cleanup function</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Cleanup"</span>);
    };
}, []); <span class="hljs-comment">// Dependency array</span>
</div></code></pre>
<h3 id="dependency-array-patterns">Dependency Array Patterns</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Runs on every render</span>
React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Every render"</span>);
});

<span class="hljs-comment">// Runs only once (on mount)</span>
React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Only on mount"</span>);
}, []);

<span class="hljs-comment">// Runs when specific values change</span>
React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"When count changes"</span>);
}, [count]);
</div></code></pre>
<h3 id="in-our-chatbot">In Our Chatbot</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Auto-scroll when messages update</span>
React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (messagesRef.current) {
        messagesRef.current.scrollTop = messagesRef.current.scrollHeight;
    }
}, [messages]);  <span class="hljs-comment">// Only run when messages array changes</span>
</div></code></pre>
<h3 id="common-use-cases">Common Use Cases</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// API calls</span>
React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    fetch(<span class="hljs-string">'/api/data'</span>)
        .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.json())
        .then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> setData(data));
}, []);

<span class="hljs-comment">// Timers</span>
React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = setInterval(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        setTime(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>());
    }, <span class="hljs-number">1000</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> clearInterval(timer);  <span class="hljs-comment">// Cleanup</span>
}, []);

<span class="hljs-comment">// Event listeners</span>
React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> handleResize = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        setWindowWidth(<span class="hljs-built_in">window</span>.innerWidth);
    };
    
    <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'resize'</span>, handleResize);
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">window</span>.removeEventListener(<span class="hljs-string">'resize'</span>, handleResize);
}, []);
</div></code></pre>
<hr>
<h2 id="react-component-lifecycle">React Component Lifecycle</h2>
<p>Understanding the React component lifecycle helps you know when and how to execute code at different stages of a component's existence. In functional components, we use hooks to tap into these lifecycle events.</p>
<h3 id="component-lifecycle-phases">Component Lifecycle Phases</h3>
<p>Every React component goes through three main phases:</p>
<ol>
<li><strong>Mounting</strong>: Component is being created and inserted into the DOM</li>
<li><strong>Updating</strong>: Component is being re-rendered as a result of changes to props or state</li>
<li><strong>Unmounting</strong>: Component is being removed from the DOM</li>
</ol>
<h3 id="lifecycle-with-hooks">Lifecycle with Hooks</h3>
<p>In functional components, <code>useEffect</code> handles all lifecycle events:</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyComponent</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> [count, setCount] = React.useState(<span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// 1. MOUNTING + UPDATING: Runs after every render</span>
    React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Component rendered or updated'</span>);
    });
    
    <span class="hljs-comment">// 2. MOUNTING ONLY: Runs once after initial render</span>
    React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Component mounted'</span>);
        
        <span class="hljs-comment">// Setup code here (API calls, event listeners, etc.)</span>
        <span class="hljs-keyword">const</span> timer = setInterval(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Timer tick'</span>);
        }, <span class="hljs-number">1000</span>);
        
        <span class="hljs-comment">// 3. UNMOUNTING: Cleanup function</span>
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Component will unmount'</span>);
            clearInterval(timer);
        };
    }, []); <span class="hljs-comment">// Empty dependency array = mount only</span>
    
    <span class="hljs-comment">// 4. CONDITIONAL UPDATING: Runs when specific values change</span>
    React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Count changed:'</span>, count);
        
        <span class="hljs-comment">// Code that should run when count changes</span>
        <span class="hljs-built_in">document</span>.title = <span class="hljs-string">`Count: <span class="hljs-subst">${count}</span>`</span>;
    }, [count]); <span class="hljs-comment">// Runs when count changes</span>
    
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</div></code></pre>
<h3 id="lifecycle-in-our-chatbot">Lifecycle in Our Chatbot</h3>
<p>Let's see how lifecycle concepts apply to our chatbot:</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> [messages, setMessages] = React.useState([...]);
    <span class="hljs-keyword">const</span> [input, setInput] = React.useState(<span class="hljs-string">""</span>);
    <span class="hljs-keyword">const</span> messagesRef = React.useRef(<span class="hljs-literal">null</span>);
    
    <span class="hljs-comment">// MOUNTING: Setup initial bot greeting</span>
    React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Chatbot mounted'</span>);
        
        <span class="hljs-comment">// Could add initial setup here:</span>
        <span class="hljs-comment">// - Load chat history from localStorage</span>
        <span class="hljs-comment">// - Connect to chat service</span>
        <span class="hljs-comment">// - Set focus on input</span>
        
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Chatbot unmounting'</span>);
            <span class="hljs-comment">// Cleanup:</span>
            <span class="hljs-comment">// - Save chat history</span>
            <span class="hljs-comment">// - Disconnect from services</span>
            <span class="hljs-comment">// - Clear timers</span>
        };
    }, []);
    
    <span class="hljs-comment">// UPDATING: Auto-scroll when messages change</span>
    React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Messages updated, scrolling to bottom'</span>);
        
        <span class="hljs-keyword">if</span> (messagesRef.current) {
            messagesRef.current.scrollTop = messagesRef.current.scrollHeight;
        }
    }, [messages]); <span class="hljs-comment">// Runs whenever messages array changes</span>
    
    <span class="hljs-comment">// UPDATING: Save to localStorage when messages change</span>
    React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        localStorage.setItem(<span class="hljs-string">'chatHistory'</span>, <span class="hljs-built_in">JSON</span>.stringify(messages));
    }, [messages]);
    
    <span class="hljs-comment">// Rest of component...</span>
}
</div></code></pre>
<h3 id="common-lifecycle-patterns">Common Lifecycle Patterns</h3>
<h4 id="1-data-fetching-mount">1. Data Fetching (Mount)</h4>
<pre class="hljs"><code><div>React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> fetchUserData = <span class="hljs-keyword">async</span> () =&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'/api/user'</span>);
            <span class="hljs-keyword">const</span> userData = <span class="hljs-keyword">await</span> response.json();
            setUser(userData);
        } <span class="hljs-keyword">catch</span> (error) {
            setError(error.message);
        }
    };
    
    fetchUserData();
}, []); <span class="hljs-comment">// Run once on mount</span>
</div></code></pre>
<h4 id="2-event-listeners-mount--cleanup">2. Event Listeners (Mount + Cleanup)</h4>
<pre class="hljs"><code><div>React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> handleKeyDown = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (event.key === <span class="hljs-string">'Escape'</span>) {
            setShowModal(<span class="hljs-literal">false</span>);
        }
    };
    
    <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'keydown'</span>, handleKeyDown);
    
    <span class="hljs-comment">// Cleanup: Remove event listener when component unmounts</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">document</span>.removeEventListener(<span class="hljs-string">'keydown'</span>, handleKeyDown);
    };
}, []);
</div></code></pre>
<h4 id="3-timers-and-intervals-mount--cleanup">3. Timers and Intervals (Mount + Cleanup)</h4>
<pre class="hljs"><code><div>React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        setShowNotification(<span class="hljs-literal">false</span>);
    }, <span class="hljs-number">3000</span>);
    
    <span class="hljs-comment">// Cleanup: Clear timer if component unmounts early</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> clearTimeout(timer);
}, []);
</div></code></pre>
<h4 id="4-subscriptions-mount--cleanup">4. Subscriptions (Mount + Cleanup)</h4>
<pre class="hljs"><code><div>React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> subscription = chatService.subscribe(<span class="hljs-function">(<span class="hljs-params">newMessage</span>) =&gt;</span> {
        setMessages(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> [...prev, newMessage]);
    });
    
    <span class="hljs-comment">// Cleanup: Unsubscribe when component unmounts</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        subscription.unsubscribe();
    };
}, []);
</div></code></pre>
<h3 id="lifecycle-best-practices">Lifecycle Best Practices</h3>
<ol>
<li><strong>Always Clean Up</strong>: If you create timers, event listeners, or subscriptions, clean them up in the return function</li>
<li><strong>Dependency Arrays</strong>: Be specific about when effects should run</li>
<li><strong>Avoid Infinite Loops</strong>: Be careful with dependency arrays to prevent endless re-renders</li>
<li><strong>Separate Concerns</strong>: Use multiple <code>useEffect</code> hooks for different concerns</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-comment">// Good: Separate effects for different concerns</span>
React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Handle auto-scroll</span>
}, [messages]);

React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Handle localStorage</span>
}, [messages]);

React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Handle window resize</span>
}, []);
</div></code></pre>
<h3 id="debugging-lifecycle">Debugging Lifecycle</h3>
<p>Add console logs to understand when your effects run:</p>
<pre class="hljs"><code><div>React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Effect running with messages:'</span>, messages.length);
    
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Effect cleanup'</span>);
    };
}, [messages]);
</div></code></pre>
<hr>
<h2 id="putting-it-all-together">Putting It All Together</h2>
<p>Let's trace through how all these concepts work together in our chatbot:</p>
<h3 id="1-component-structure">1. Component Structure</h3>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// All component logic here</span>
    <span class="hljs-keyword">return</span> (<span class="hljs-comment">/* JSX here */</span>);
}
</div></code></pre>
<h3 id="2-state-management">2. State Management</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> [messages, setMessages] = React.useState([...]);
<span class="hljs-keyword">const</span> [input, setInput] = React.useState(<span class="hljs-string">""</span>);
</div></code></pre>
<h3 id="3-event-handling">3. Event Handling</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> handleSend = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Update messages state</span>
    setMessages([...messages, newMessage]);
    
    <span class="hljs-comment">// Clear input state</span>
    setInput(<span class="hljs-string">""</span>);
};
</div></code></pre>
<h3 id="4-controlled-input">4. Controlled Input</h3>
<pre class="hljs"><code><div>&lt;input
    value={input}
    onChange={(e) =&gt; setInput(e.target.value)}
/&gt;
</div></code></pre>
<h3 id="5-list-rendering">5. List Rendering</h3>
<pre class="hljs"><code><div>{messages.map(<span class="hljs-function">(<span class="hljs-params">message, index</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>&gt;</span>
        {message.text}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
))}
</div></code></pre>
<h3 id="6-side-effects">6. Side Effects</h3>
<pre class="hljs"><code><div>React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Auto-scroll when messages change</span>
}, [messages]);
</div></code></pre>
<h3 id="the-react-flow">The React Flow</h3>
<ol>
<li><strong>Initial Render</strong>: Component mounts with initial state</li>
<li><strong>User Interaction</strong>: User types in input (controlled component updates state)</li>
<li><strong>Event Trigger</strong>: User clicks Send or presses Enter</li>
<li><strong>State Update</strong>: <code>handleSend</code> updates <code>messages</code> state</li>
<li><strong>Re-render</strong>: React detects state change and re-renders component</li>
<li><strong>Side Effect</strong>: <code>useEffect</code> runs and scrolls to bottom</li>
<li><strong>Async Update</strong>: <code>setTimeout</code> adds bot response, triggering another re-render</li>
</ol>
<hr>
<h2 id="practice-exercises">Practice Exercises</h2>
<h3 id="exercise-1-message-component">Exercise 1: Message Component</h3>
<p>Extract message rendering into a separate component:</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Message</span>(<span class="hljs-params">{ text, sender }</span>) </span>{
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">message</span> ${<span class="hljs-attr">sender</span>}<span class="hljs-attr">-message</span>`}&gt;</span>
            {text}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-comment">// Use it in Chatbot component</span>
{messages.map(<span class="hljs-function">(<span class="hljs-params">message, index</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Message</span>
        <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>
        <span class="hljs-attr">text</span>=<span class="hljs-string">{message.text}</span>
        <span class="hljs-attr">sender</span>=<span class="hljs-string">{message.sender}</span>
    /&gt;</span></span>
))}
</div></code></pre>
<h3 id="exercise-2-character-counter">Exercise 2: Character Counter</h3>
<p>Add a character counter below the input:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> maxLength = <span class="hljs-number">100</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{input}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setInput(e.target.value)}
        maxLength={maxLength}
    /&gt;
    <span class="hljs-tag">&lt;<span class="hljs-name">small</span>&gt;</span>{input.length}/{maxLength} characters<span class="hljs-tag">&lt;/<span class="hljs-name">small</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</div></code></pre>
<h3 id="exercise-3-message-timestamps">Exercise 3: Message Timestamps</h3>
<p>Add timestamps to messages:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> [messages, setMessages] = React.useState([
    { 
        <span class="hljs-attr">text</span>: <span class="hljs-string">"Bot says: How can I help?"</span>, 
        <span class="hljs-attr">sender</span>: <span class="hljs-string">"bot"</span>,
        <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()
    }
]);

<span class="hljs-comment">// In handleSend:</span>
<span class="hljs-keyword">const</span> newUserMessage = { 
    <span class="hljs-attr">text</span>: input, 
    <span class="hljs-attr">sender</span>: <span class="hljs-string">"user"</span>,
    <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()
};
</div></code></pre>
<h3 id="exercise-4-loading-state">Exercise 4: Loading State</h3>
<p>Show a &quot;Bot is typing...&quot; indicator:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> [isTyping, setIsTyping] = React.useState(<span class="hljs-literal">false</span>);

<span class="hljs-keyword">const</span> handleSend = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Add user message</span>
    setMessages([...messages, newUserMessage]);
    setIsTyping(<span class="hljs-literal">true</span>);
    
    setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        setMessages(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> [...prev, botReply]);
        setIsTyping(<span class="hljs-literal">false</span>);
    }, <span class="hljs-number">1000</span>);
};

<span class="hljs-comment">// In JSX:</span>
{isTyping &amp;&amp; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"typing"</span>&gt;</span>Bot is typing...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>}
</div></code></pre>
<hr>
<h2 id="key-takeaways">Key Takeaways</h2>
<ol>
<li><strong>Declarative vs Imperative</strong>: React lets you describe what you want, not how to achieve it</li>
<li><strong>Components</strong>: Break UI into reusable, self-contained pieces</li>
<li><strong>State</strong>: Use <code>useState</code> for data that changes over time</li>
<li><strong>Events</strong>: Handle user interactions with event handlers</li>
<li><strong>Lists</strong>: Use <code>map()</code> and <code>key</code> props to render dynamic lists</li>
<li><strong>Controlled Components</strong>: Let React control form inputs through state</li>
<li><strong>References</strong>: Use <code>useRef</code> for direct DOM access when needed</li>
<li><strong>Side Effects</strong>: Use <code>useEffect</code> for operations outside of rendering</li>
</ol>
<h3 id="reacts-mental-model">React's Mental Model</h3>
<p>Think of React components as functions that take props (input) and return JSX (output). When state changes, React calls your function again with the new state, compares the output, and updates only what changed in the DOM.</p>
<p>This makes your UI predictable and easier to debug because you always know exactly what your component will render based on its current state and props.</p>
<h2 id="step-by-step-guide-to-transform-indexhtml-to-index-reacthtml">Step by Step Guide to transform index.html to index-react.html</h2>
<p>This section provides a detailed, step-by-step transformation from vanilla JavaScript to React, showing exactly how each piece of the original code maps to React concepts.</p>
<h3 id="step-1-set-up-react-environment">Step 1: Set Up React Environment</h3>
<p><strong>Original HTML (Vanilla JS):</strong></p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Simple Chatbot<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- CSS styles here --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</div></code></pre>
<p><strong>React Version:</strong></p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Simple Chatbot - React Version<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- Add React CDN --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">crossorigin</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/react@18/umd/react.development.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">crossorigin</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/react-dom@18/umd/react-dom.development.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Add Babel for JSX transformation --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/@babel/standalone/babel.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- Same CSS styles --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</div></code></pre>
<p><strong>Changes Made:</strong></p>
<ul>
<li>Added React library via CDN</li>
<li>Added ReactDOM for rendering</li>
<li>Added Babel for JSX compilation</li>
<li>Updated title to indicate React version</li>
</ul>
<h3 id="step-2-transform-html-structure-to-jsx">Step 2: Transform HTML Structure to JSX</h3>
<p><strong>Original HTML Body:</strong></p>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chat-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chat-messages"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chat-messages"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input-container"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user-input"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Type your message..."</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"send-button"</span>&gt;</span>Send<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
        <span class="hljs-comment">// JavaScript code here</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</div></code></pre>
<p><strong>React Version:</strong></p>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-comment">&lt;!-- React mount point --&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/babel"</span>&gt;</span><span class="javascript">
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> (
                <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-container"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-messages"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{messagesRef}</span>&gt;</span>
                        {/* Messages will be rendered here */}
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"input-container"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                            <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
                            <span class="hljs-attr">id</span>=<span class="hljs-string">"user-input"</span>
                            <span class="hljs-attr">value</span>=<span class="hljs-string">{input}</span>
                            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setInput(e.target.value)}
                            onKeyPress={handleKeyPress}
                            placeholder="Type your message..."
                        /&gt;
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"send-button"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSend}</span>&gt;</span>Send<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
            );
        }
        
        <span class="hljs-comment">// Render the component</span>
        <span class="hljs-keyword">const</span> root = ReactDOM.createRoot(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'root'</span>));
        root.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Chatbot</span> /&gt;</span></span>);
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</div></code></pre>
<p><strong>Changes Made:</strong></p>
<ul>
<li>Replaced static HTML with JSX inside a React component</li>
<li>Changed <code>class</code> to <code>className</code> (JSX requirement)</li>
<li>Added React event handlers (<code>onClick</code>, <code>onChange</code>, <code>onKeyPress</code>)</li>
<li>Added controlled component props (<code>value</code>, <code>onChange</code>)</li>
<li>Wrapped everything in a <code>Chatbot</code> function component</li>
</ul>
<h3 id="step-3-convert-global-variables-to-react-state">Step 3: Convert Global Variables to React State</h3>
<p><strong>Original JavaScript Variables:</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">let</span> messages = []; <span class="hljs-comment">// Global variable</span>
</div></code></pre>
<p><strong>React State:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Convert global variable to React state</span>
    <span class="hljs-keyword">const</span> [messages, setMessages] = React.useState([
        { <span class="hljs-attr">text</span>: <span class="hljs-string">"Bot says: How can I help?"</span>, <span class="hljs-attr">sender</span>: <span class="hljs-string">"bot"</span> } <span class="hljs-comment">// Initial state</span>
    ]);
    
    <span class="hljs-keyword">const</span> [input, setInput] = React.useState(<span class="hljs-string">""</span>); <span class="hljs-comment">// Input field state</span>
}
</div></code></pre>
<p><strong>Changes Made:</strong></p>
<ul>
<li>Replaced global <code>messages</code> array with <code>useState</code> hook</li>
<li>Added initial bot message directly in state</li>
<li>Added separate state for input field value</li>
<li>Used destructuring to get state value and setter function</li>
</ul>
<h3 id="step-4-convert-dom-references-to-react-refs">Step 4: Convert DOM References to React Refs</h3>
<p><strong>Original DOM References:</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> chatMessages = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'chat-messages'</span>);
<span class="hljs-keyword">const</span> userInput = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'user-input'</span>);
<span class="hljs-keyword">const</span> sendButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'send-button'</span>);
</div></code></pre>
<p><strong>React Refs:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> messagesRef = React.useRef(<span class="hljs-literal">null</span>); <span class="hljs-comment">// Only need ref for scrolling</span>
    
    <span class="hljs-comment">// No need for input/button refs - React handles these through props</span>
}
</div></code></pre>
<p><strong>Changes Made:</strong></p>
<ul>
<li>Replaced <code>getElementById</code> with <code>useRef</code> hook</li>
<li>Only kept reference for messages container (needed for scrolling)</li>
<li>Removed input/button refs (React controls these through props)</li>
</ul>
<h3 id="step-5-transform-manual-dom-manipulation-to-react-rendering">Step 5: Transform Manual DOM Manipulation to React Rendering</h3>
<p><strong>Original Manual Rendering:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderMessages</span>(<span class="hljs-params"></span>) </span>{
    chatMessages.innerHTML = <span class="hljs-string">''</span>; <span class="hljs-comment">// Clear existing</span>
    messages.forEach(<span class="hljs-function"><span class="hljs-params">message</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> messageDiv = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
        messageDiv.classList.add(<span class="hljs-string">'message'</span>);
        messageDiv.classList.add(message.sender === <span class="hljs-string">'user'</span> ? <span class="hljs-string">'user-message'</span> : <span class="hljs-string">'bot-message'</span>);
        messageDiv.textContent = message.text;
        chatMessages.appendChild(messageDiv);
    });
    chatMessages.scrollTop = chatMessages.scrollHeight;
}
</div></code></pre>
<p><strong>React Declarative Rendering:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Rendering happens automatically in JSX return</span>
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-container"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-messages"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{messagesRef}</span>&gt;</span>
                {/* React automatically renders when messages state changes */}
                {messages.map((message, index) =&gt; (
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
                        <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>
                        <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">message</span> ${<span class="hljs-attr">message.sender</span> === <span class="hljs-string">"user"</span> ? "<span class="hljs-attr">user-message</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">bot-message</span>"}`}
                    &gt;</span>
                        {message.text}
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                ))}
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            {/* Rest of JSX */}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</div></code></pre>
<p><strong>Changes Made:</strong></p>
<ul>
<li>Removed manual <code>renderMessages()</code> function</li>
<li>Used <code>map()</code> to declaratively render messages</li>
<li>React automatically re-renders when <code>messages</code> state changes</li>
<li>Added <code>key</code> prop for React's reconciliation</li>
<li>Used template literals for dynamic className</li>
</ul>
<h3 id="step-6-handle-auto-scrolling-with-useeffect">Step 6: Handle Auto-scrolling with useEffect</h3>
<p><strong>Original Auto-scroll (called manually):</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderMessages</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// ... render logic</span>
    chatMessages.scrollTop = chatMessages.scrollHeight; <span class="hljs-comment">// Manual scroll</span>
}
</div></code></pre>
<p><strong>React useEffect for Auto-scroll:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> messagesRef = React.useRef(<span class="hljs-literal">null</span>);
    
    <span class="hljs-comment">// Auto-scroll when messages change</span>
    React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (messagesRef.current) {
            messagesRef.current.scrollTop = messagesRef.current.scrollHeight;
        }
    }, [messages]); <span class="hljs-comment">// Run when messages array changes</span>
}
</div></code></pre>
<p><strong>Changes Made:</strong></p>
<ul>
<li>Replaced manual scroll call with <code>useEffect</code> hook</li>
<li>Effect runs automatically when <code>messages</code> state changes</li>
<li>Used dependency array <code>[messages]</code> to control when effect runs</li>
</ul>
<h3 id="step-7-convert-event-handlers-to-react-functions">Step 7: Convert Event Handlers to React Functions</h3>
<p><strong>Original Event Listeners:</strong></p>
<pre class="hljs"><code><div>sendButton.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> message = userInput.value.trim();
    <span class="hljs-keyword">if</span> (message) {
        addMessage(message, <span class="hljs-string">'user'</span>);
        userInput.value = <span class="hljs-string">''</span>; <span class="hljs-comment">// Manual DOM manipulation</span>
        
        setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> botReply = <span class="hljs-string">`Bot says: You typed "<span class="hljs-subst">${message}</span>"! How can I help?`</span>;
            addMessage(botReply, <span class="hljs-string">'bot'</span>);
        }, <span class="hljs-number">1000</span>);
    }
});

userInput.addEventListener(<span class="hljs-string">'keypress'</span>, (event) =&gt; {
    <span class="hljs-keyword">if</span> (event.key === <span class="hljs-string">'Enter'</span>) {
        sendButton.click();
    }
});
</div></code></pre>
<p><strong>React Event Handlers:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> handleSend = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (input.trim() === <span class="hljs-string">""</span>) <span class="hljs-keyword">return</span>;
        
        <span class="hljs-comment">// Add user message to state</span>
        <span class="hljs-keyword">const</span> newUserMessage = { <span class="hljs-attr">text</span>: input, <span class="hljs-attr">sender</span>: <span class="hljs-string">"user"</span> };
        setMessages(<span class="hljs-function"><span class="hljs-params">prevMessages</span> =&gt;</span> [...prevMessages, newUserMessage]);
        
        <span class="hljs-comment">// Clear input through state</span>
        setInput(<span class="hljs-string">""</span>);
        
        <span class="hljs-comment">// Simulate bot response</span>
        setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> botReply = { 
                <span class="hljs-attr">text</span>: <span class="hljs-string">`Bot says: You typed "<span class="hljs-subst">${input}</span>"! How can I help?`</span>, 
                <span class="hljs-attr">sender</span>: <span class="hljs-string">"bot"</span> 
            };
            setMessages(<span class="hljs-function"><span class="hljs-params">prevMessages</span> =&gt;</span> [...prevMessages, botReply]);
        }, <span class="hljs-number">1000</span>);
    };

    <span class="hljs-keyword">const</span> handleKeyPress = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (event.key === <span class="hljs-string">"Enter"</span>) {
            handleSend();
        }
    };
    
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"input-container"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setInput(e.target.value)}
                onKeyPress={handleKeyPress}
            /&gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSend}</span>&gt;</span>Send<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</div></code></pre>
<p><strong>Changes Made:</strong></p>
<ul>
<li>Replaced <code>addEventListener</code> with React event props (<code>onClick</code>, <code>onKeyPress</code>)</li>
<li>Used state updates instead of direct DOM manipulation</li>
<li>Used functional state updates <code>setMessages(prev =&gt; ...)</code> for safety</li>
<li>Captured input value from current state instead of DOM</li>
</ul>
<h3 id="step-8-remove-manual-state-management-functions">Step 8: Remove Manual State Management Functions</h3>
<p><strong>Original Helper Functions (No longer needed):</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addMessage</span>(<span class="hljs-params">text, sender</span>) </span>{
    <span class="hljs-keyword">const</span> newMessage = { <span class="hljs-attr">text</span>: text, <span class="hljs-attr">sender</span>: sender };
    messages.push(newMessage); <span class="hljs-comment">// Direct array mutation</span>
    renderMessages(); <span class="hljs-comment">// Manual re-render</span>
}
</div></code></pre>
<p><strong>React Approach (Built into event handlers):</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// No separate addMessage function needed</span>
<span class="hljs-keyword">const</span> handleSend = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Direct state updates trigger automatic re-renders</span>
    setMessages(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> [...prev, newMessage]); <span class="hljs-comment">// Immutable update</span>
    <span class="hljs-comment">// No manual renderMessages() call needed</span>
};
</div></code></pre>
<p><strong>Changes Made:</strong></p>
<ul>
<li>Removed <code>addMessage()</code> helper function</li>
<li>Integrated message adding logic directly into event handlers</li>
<li>Used immutable state updates (spread operator)</li>
<li>Removed manual <code>renderMessages()</code> calls</li>
</ul>
<h3 id="step-9-final-component-structure">Step 9: Final Component Structure</h3>
<p><strong>Complete React Component:</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Chatbot</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// 1. State Management</span>
    <span class="hljs-keyword">const</span> [messages, setMessages] = React.useState([
        { <span class="hljs-attr">text</span>: <span class="hljs-string">"Bot says: How can I help?"</span>, <span class="hljs-attr">sender</span>: <span class="hljs-string">"bot"</span> }
    ]);
    <span class="hljs-keyword">const</span> [input, setInput] = React.useState(<span class="hljs-string">""</span>);
    
    <span class="hljs-comment">// 2. Refs for DOM access</span>
    <span class="hljs-keyword">const</span> messagesRef = React.useRef(<span class="hljs-literal">null</span>);

    <span class="hljs-comment">// 3. Side Effects</span>
    React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (messagesRef.current) {
            messagesRef.current.scrollTop = messagesRef.current.scrollHeight;
        }
    }, [messages]);

    <span class="hljs-comment">// 4. Event Handlers</span>
    <span class="hljs-keyword">const</span> handleSend = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (input.trim() === <span class="hljs-string">""</span>) <span class="hljs-keyword">return</span>;
        
        <span class="hljs-keyword">const</span> newUserMessage = { <span class="hljs-attr">text</span>: input, <span class="hljs-attr">sender</span>: <span class="hljs-string">"user"</span> };
        setMessages(<span class="hljs-function"><span class="hljs-params">prevMessages</span> =&gt;</span> [...prevMessages, newUserMessage]);
        setInput(<span class="hljs-string">""</span>);
        
        setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> botReply = { 
                <span class="hljs-attr">text</span>: <span class="hljs-string">`Bot says: You typed "<span class="hljs-subst">${input}</span>"! How can I help?`</span>, 
                <span class="hljs-attr">sender</span>: <span class="hljs-string">"bot"</span> 
            };
            setMessages(<span class="hljs-function"><span class="hljs-params">prevMessages</span> =&gt;</span> [...prevMessages, botReply]);
        }, <span class="hljs-number">1000</span>);
    };

    <span class="hljs-keyword">const</span> handleKeyPress = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (event.key === <span class="hljs-string">"Enter"</span>) {
            handleSend();
        }
    };

    <span class="hljs-comment">// 5. Render (JSX)</span>
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-container"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-messages"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{messagesRef}</span>&gt;</span>
                {messages.map((message, index) =&gt; (
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
                        <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>
                        <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">message</span> ${<span class="hljs-attr">message.sender</span> === <span class="hljs-string">"user"</span> ? "<span class="hljs-attr">user-message</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">bot-message</span>"}`}
                    &gt;</span>
                        {message.text}
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                ))}
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"input-container"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                    <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
                    <span class="hljs-attr">id</span>=<span class="hljs-string">"user-input"</span>
                    <span class="hljs-attr">value</span>=<span class="hljs-string">{input}</span>
                    <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setInput(e.target.value)}
                    onKeyPress={handleKeyPress}
                    placeholder="Type your message..."
                /&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"send-button"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSend}</span>&gt;</span>Send<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</div></code></pre>
<h3 id="summary-of-key-transformations">Summary of Key Transformations</h3>
<table>
<thead>
<tr>
<th>Vanilla JavaScript</th>
<th>React Equivalent</th>
<th>Why the Change?</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>let messages = []</code></td>
<td><code>const [messages, setMessages] = useState([])</code></td>
<td>React state triggers re-renders</td>
</tr>
<tr>
<td><code>document.getElementById()</code></td>
<td><code>useRef()</code> or props</td>
<td>React manages DOM references</td>
</tr>
<tr>
<td><code>addEventListener()</code></td>
<td><code>onClick={handler}</code></td>
<td>Declarative event handling</td>
</tr>
<tr>
<td><code>element.innerHTML = ''</code></td>
<td><code>{array.map()}</code></td>
<td>Declarative list rendering</td>
</tr>
<tr>
<td><code>element.value</code></td>
<td><code>value={state}</code></td>
<td>Controlled components</td>
</tr>
<tr>
<td>Manual <code>renderMessages()</code></td>
<td>Automatic re-render</td>
<td>React handles UI updates</td>
</tr>
<tr>
<td><code>messages.push()</code></td>
<td><code>setMessages([...prev, new])</code></td>
<td>Immutable state updates</td>
</tr>
<tr>
<td>Manual DOM updates</td>
<td><code>useEffect()</code></td>
<td>Side effects handled by React</td>
</tr>
</tbody>
</table>
<h3 id="benefits-of-the-react-transformation">Benefits of the React Transformation</h3>
<ol>
<li><strong>Automatic Re-rendering</strong>: No need to manually call render functions</li>
<li><strong>Predictable State</strong>: State changes always trigger UI updates</li>
<li><strong>Cleaner Code</strong>: Less DOM manipulation code</li>
<li><strong>Better Performance</strong>: React optimizes DOM updates</li>
<li><strong>Easier Debugging</strong>: Clear data flow and state management</li>
<li><strong>Reusable Components</strong>: Code can be easily componentized</li>
<li><strong>Better Testing</strong>: Components can be tested in isolation</li>
</ol>
<p>This transformation demonstrates how React's declarative approach simplifies UI development by handling the &quot;how&quot; automatically, letting you focus on the &quot;what&quot; you want to display.</p>
<hr>
<h2 id="summary">Summary</h2>
<p>This tutorial has taken you through a comprehensive journey from vanilla JavaScript to React development. You've learned:</p>
<ul>
<li><strong>React Fundamentals</strong>: Components, JSX, and the declarative paradigm</li>
<li><strong>State Management</strong>: Using <code>useState</code> to manage changing data</li>
<li><strong>Event Handling</strong>: React's approach to user interactions</li>
<li><strong>Side Effects</strong>: Using <code>useEffect</code> for operations outside rendering</li>
<li><strong>Component Lifecycle</strong>: Understanding when and how React components update</li>
<li><strong>Practical Transformation</strong>: Step-by-step conversion from vanilla JS to React</li>
</ul>
<p>The chatbot example demonstrates that while both approaches achieve the same result, React provides a more maintainable, scalable, and predictable way to build user interfaces. As your applications grow in complexity, React's benefits become even more apparent.</p>
<p>Continue practicing with these concepts, and you'll find that React's component-based architecture makes building interactive applications much more enjoyable and efficient!</p>

</body>
</html>
